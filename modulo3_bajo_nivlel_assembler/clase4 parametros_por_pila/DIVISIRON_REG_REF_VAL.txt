ORG 1000H 	; Datos
DIVIDENDO 	DW 11
DIVISOR		DW 2
RESUL		DW  ?;ES EL RESTO
	
ORG 3000H  ; Subrutina

REST:		PUSH BX;GUARDAMOS EN LA PILA LA DIRECCION DEL DIVISOR
MOV BX, SP 
ADD BX, 4      ; SP+4, BX SE VA HASTA EL FINAL DE LA PILA, APUNTA A DX
MOV DX, [BX];A DX LE MANDAMOS DX, DX APUNTA AL RESTO
SIGO:		SUB AX, CX;11-2
CMP AX, CX
JNC SIGO;SIGO SI 2 NO ES MAYOR Q LO Q ME QUEDA DEL DIVISOR 
MOV BX, DX;BX APUNTA AL RESTO
MOV [BX],AX;EN EL RESTO GUARDAMOS LO QUE ME QUEDA EN EL DIVISOR
POP BX;BX RECUPERA LA DIRECCION DEL DIVISOR
RET

ORG 2000H   ; Programa Ppal.
MOV DX, OFFSET RESUL;DX APUNTA AL RESTO
PUSH DX ;LO GUARDAMOS EN LA PILA
MOV AX, DIVIDENDO ;AX TIENE 11
MOV BX, OFFSET DIVISOR; BX APUNTA AL DIVISOR
MOV CX, [BX]; EN CX TENGO EL DIVISOR (2)
CALL REST
POP CX

HLT
END

;AX QUEDA CON EL VALOR DEL RESTO
;BX TERMINA CON LA DIRECCION DEL DIVISOR
;CX TERMINA APUNTANDO AL RESTO
;DX TERMINA APUNTANDO AL RESTO

;DIVIDENDO PASADO POR VALOR
;DIVISRO PASADO POR REFERENCIA
;RESTO PASADO POR REFERENCIA

;EL RESULTADO FINAL QUEDA EN AX Y EN RESUL
